# Цели

AAPS ставит ряд Целей, которые необходимо выполнить, чтобы изучить все возможности и настройки программы для дальнейшей безопасной работы.  Цели позволяют удостовериться, что все настроено правильно, что вы понимаете что, как и почему делает программа, и что ей можно доверять.

Если вы **обновляете телефон**, то можете [экспортировать настройки](../Usage/ExportImportSettings.md) чтобы сохранить прохождение целей. При этом будут сохранен не только ваш прогресс в прохождении целей, но и настройки безопасности, такие как максимальный болюс и т. п. Если вы не сделаете экспорт-импорт настроек - вам придется заново проходить все цели.  Рекомендуется на всякий случай периодически [делать резервную копию актуальных настроек](../Usage/ExportImportSettings.html).

Если вы захотите снова пройти цели - смотрите [объяснения ниже](Objectives-go-back-in-objectives).

## Цель 1: Настройка визуализации и мониторинга, анализ базальной скорости и коэффициентов

- Выберите свой источник данных ГК.  См. [Источники ГК](../Configuration/BG-Source.md) для дополнительной информации.
- Выберите нужную помпу в Конфигураторе (если нет возможности подключить помпу к телефону - вберите виртуальную помпу), чтобы подключить ее к AAPS.
- При работе с [помпой Dana R ](../Configuration/DanaR-Insulin-Pump.md) следуйте отдельным инструкциям по привязке помпы к AndroidAPS.
- Для достижения этой цели необходимо создать хранилище данных/платформу для отчетов. Это можно сделать с помощью Nightscout или Tidepool (или обоих). Следуйте инструкциям на странице [Nightscout](../Installing-AndroidAPS/Nightscout.md) или [Tidepool](../Installing-AndroidAPS/Tidepool.md).
- Обратите внимание: URL в AAPSClient **не должен содержать строку /api/v1/** в конце - см. подробнее в [настройках Клиент NS](Preferences-nsclient).

*Возможно, потребуется дождаться следующего значения ГК, прежде чем AAPS распознает его и примет в обработку.*

## Цель 2: Научитесь контролировать AAPS

- Выполните несколько действий в AAPS, которые описаны в этой цели.

- Нажмите на оранжевый текст «Не завершено» для доступа к каждому заданию.

- Если вы еще не знакомы с конкретным действием - вам будут предоставлены ссылки на инструкции из этой документации.

  ```{image} ../images/Objective2_V2_5.png
  :alt: снимок экрана Цель 2
  ```

(Objectives-objective-3-prove-your-knowledge)=

## Цель 3: Подтвердите ваши знания

Цель3 - это тест с множественным выбором на основе вопросов, призванных проверить теоретические знания **AAPS**.

Некоторые пользователи считают цель 3 самой трудной. Прочитайте документы ААПС в сочетании с вопросами. Если вы действительно застряли после изучения документации **AAPS**, найдите или запросите помощь в Facebook или группе Discord. Эти группы могут дать подсказки или перенаправить вас на соответствующую часть документов **AAPS**.

Чтобы приступить к реализации цели 3, нажмите на оранжевый текст «Не завершено», чтобы получить доступ к соответствующему вопросу. Прочтите каждый вопрос и выберите ответ(ы).



В каждом вопросе есть гиперссылка на документы **AAPS** для поиска правильного ответа.


[Obj3_Снимок экрана 2023-12-05 223422](https://github.com/openaps/AndroidAPSdocs/assets/137224335/77347516-e24e-459d-98ab-acbb49a3d4e8)![изображение](https://github.com/openaps/AndroidAPSdocs/assets/137224335/ca756b8e-efbc-4427-b281-ac953ce16718)



Для каждого вопроса правильным может быть больше одного ответа! Если выбран неверный ответ, вопрос будет заблокирован на определенное время (60 минут), прежде чем вы сможете вернуться и ответить на вопрос.


После обновления до новой версии **AAPS**, могут быть добавлены новые вопросы для преодоления распространенных затруднений **AAPS** или, по мере появления, для проверки знаний о новых функциях **AAPS**.


Когда **AAPS** устанавливается в первый раз, необходимо полностью пройти цель 3 для того, чтобы перейти к цели 4. Каждая цель должна быть выполнена в последовательном порядке. Постепенно, по мере преодоления целей, будут открываться новые возможности приложения.

__Что произойдет, если в цель 3 позднее будут добавлены новые вопросы?__ Время от времени в **AAPS** добавляются новые функции, что может потребовать добавления нового вопроса к цели 3. В результате любой новый вопрос, добавленный к цели 3, будет помечен как «незавершенный», потому что **AAPS** потребует на него ответа. Поскольку каждая цель независима, вы не потеряете существующую функциональность **AAPS** при условии, что другие цели останутся выполненными.


## Цель 4: Начните с открытого цикла

- Выберите открытый цикл либо в настройках, либо нажав кнопку "Открытый цикл" в левом верхнем углу главного экрана.
- Зайдите в [Настройки](../Configuration/Preferences.md) и измените их исходя из своих потребностей.
- Вручную активируйте по крайней мере 20 предложений временного базала на протяжении 7 дней, введите их в помпу и подтвердите в AAPS что вы их приняли.  Убедитесь, что изменения появились как в AAPS, так и в Nightscout.
- При необходимости применяйте [временные цели (ВЦ)](../Usage/temptarget.md). Используйте ВЦ Гипо для купирования гипогликемии, чтобы предотвратить слишком активное скалывание растущей после купирования гипо ГК.

### Сократите количество уведомлений

- Для сокращения количества предложений во время работы в режиме Открытого цикла установите широкий целевой диапазон, например, 90-150 мг/дл или 5,0-8,5 ммоль/л.

- Возможно, вам захочется увеличить верхнюю границу диапазона на ночь (или вовсе отключить цикл на это время).

- В настройках можно установить минимальный процент для предложений по изменению базальной скорости.

  ```{image} ../images/OpenLoop_MinimalRequestChange2.png
  :alt: изменение минимального запроса на незамкнутом цикле
  ```

- Необязательно принимать все-все предложения алгоритма каждые 5 минут...

## Цель 5: Глубже понимаем работу системы в режиме незамкнутого цикла, включая ее рекомендации по временным базалам

- Начинаем вникать в рекомендации по временному базалу, изучая [логику определения базала](https://openaps.readthedocs.io/en/latest/docs/While%20You%20Wait%20For%20Gear/Understand-determine-basal.html), а также [линии прогнозируемой гликемии на главном экране AAPS](Screenshots-prediction-lines) / Nightscout и результаты вычислений на вкладке OpenAps).

Целевые значения гликемии следует несколько завысить до тех пор, пока вы не убедитесь в правильности всех вычислений и настроек.  Система позволяет

- установить нижнюю границу целевого значения ГК в диапазоне между 4 ммоль/л (72 мг/дл) и 10 ммоль/л (180 мг/дл)
- установить верхнюю границу целевого значения ГК в диапазоне между 5 ммоль/л (90 мг/дл) и 15 ммоль/л (225 мг/дл)
- временная цель как самостоятельная величина ГК может находиться в диапазоне от 4 до 15 ммоль/л (от 72 до 225 мг/дл)

Целевое значение - это значение, на котором основываются расчеты, это не тот диапазон, в рамках которого вам надо стараться удерживать вашу ГК.  Если ваш целевой диапазон очень широк (скажем, 3 или более ммоль/л \[ 50 мг/дл или более\]), то AAPS будет редко запрашивать какие-либо изменения. Это связано с тем, что расчетные значения ГК будут располагаться где-то в этом широком диапазоне и, следовательно, изменения базальной скорости не потребуются.

Можете поэкспериментировать и задать более узкий диапазон значений (например, чтобы разность между нижней и верхней границами не превышала 1 ммоль/л) и понаблюдать, как при этом изменится поведение системы.

Для визуализации на графике того целевого диапазона, в котором надо удерживать ГК (зеленая область), установите границы этого диапазона в [Настройках](../Configuration/Preferences.md) > Начало > Диапазон для визуализации.

```{image} ../images/sign_stop.png
:alt: знак "Стоп"
```

### Остановитесь здесь, если пользуетесь открытым циклом с виртуальной помпой - не нажимайте на кнопку «Подтвердить» в конце цели.

```{image} ../images/blank.png
:alt: пусто
```

(Objectives-objective-6-starting-to-close-the-loop-with-low-glucose-suspend)=
## Цель 6: Начинаем замыкать цикл с Low Glucose Suspend (прекращением подачи инсулина на низких сахарах)

```{image} ../images/sign_warning.png
:alt: предупреждающий знак
```

### В цели 6 система не будет пытаться снижать высокие сахара, так как здесь она ограничена только приостановкой на низкой ГК. Высокие значения ГК необходимо корректировать самостоятельно!

- Предварительное условие: для того, чтобы начать работать в режиме приостановки на низких необходимо уже иметь хорошо работающий в AAPS профиль (подобранные базал, фактор чувствительности к инсулину ISF, углеводный коэффициент IC). Иначе можно уйти в гипогликемию, которую придется компенсировать вручную. Это позволит вам эффективно избегать гип на протяжении более 5 дней. **Если у вас еще часто случаются эпизоды гипогликемии, или они бывают очень сильными, то вам следует пересмотреть настройки DIA, базала, ISF или IC и пока НЕ приступать к выполнению 6 цели.**
- На этом этапе менять настройки не нужно. На протяжении выполнения Цели 6 значение maxIOB будет считаться равным 0. **При переходе на Цель 7 снова будет использоваться установленное ранее значение.**
- Система будет основывать свои расчеты на maxIOB = 0, а значит при резком снижении ГК сможет уменьшить базальную скорость. Если ГК растет, то базальная скорость будет увеличена только если IOB будет отрицательным в связи с отработавшим алгоритмом приостановки на низких. В ином случае скорость базала будет соответствовать значению из профиля. **Это значит, что вам необходимо вручную компенсировать повышение ГК.**
- Если текущее значение IOB отрицательное (см. снимки экрана ниже), то при прохождении цели 6 может также быть установлена ВБС> 100%.

```{image} ../images/Objective6_negIOB.png
:alt: Пример отрицательного IOB
```

- В качестве дополнительной предосторожности установите целевой диапазон немного шире, чем ваш обычный.
- Включите режим «Приостановка на низких» нажав и удерживая значок Цикла в правом верхнем углу главного экрана и выбрав значок «Цикл - LGS».
- Наблюдайте за работой временного базала по тексту синего цвета или по синему графику на главном экране.
- Возможны временные пики вслед за мерами против гипогликемии без возможности увеличить базу на откате._

(Objectives-objective-7-tuning-the-closed-loop-raising-max-iob-above-0-and-gradually-lowering-bg-targets)=
## Цель 7: Настройка замкнутого цикла с поднятием макс величины IOB выше 0 и постепенным понижением целевой ГК

- В течение одного дня выберите "Замкнутый цикл" либо в [Настройках](../Configuration/Preferences.md), либо нажав и удерживая значок цикла в правом верхнем углу главного экрана.

- Поднимите значение "Максимальный суммарный активный инсулин которое не может превысить алгоритм OpenAPS " (в OpenAPS называется "max-iob") выше 0. Рекомендация по умолчанию - "средний болюс на прием пищи + 3-кратная максимальная базальная доза" (для алгоритма SMB) или "3-кратная максимальная базальная доза" (для более старого алгоритма AMA), но переходить к этому следует постепенно, пока не убедитесь, что настройки подходят для вас (максимальная базальная доза (в течение суток) = максимальное почасовое значение в любой временной отрезок дня).

  Эта рекомендация должна рассматриваться как отправная точка. Если вы установили троекратную величину и видите признаки того, что для вас это слишком жестко, понизьте ее. Если у вас высокая резистентность повышайте эту величину постепенно.

  ```{image} ../images/MaxDailyBasal2.png
  :alt: максимальный суточный базал
  ```

- Определив величину активного инсулина IOB, подходящую именно вам, понизьте целевое значение ГК до желаемого уровня.

(Objectives-objective-8-adjust-basals-and-ratios-if-needed-and-then-enable-autosens)=
## Цель 8: Настраиваем базал и коэффициенты с последующей активацией autosens

- Можно однократно воспользоваться автонастройкой [autotune](https://openaps.readthedocs.io/en/latest/docs/Customize-Iterate/autotune.html), чтобы проверить, остаются ли точными настройки базала или провести традиционный тест базы.
- Активируйте авточувствительность [autosens](../Usage/Open-APS-features.md) на 7 дней и понаблюдайте за тем, как опускается или поднимается белая линия чувствительности к инсулину на графике домашнего экрана в результате нагрузок, гормонов и т. п. не забывая о вкладке отчетов OpenAPS, где AAPS соответствующим образом корректирует базу и/или цели.

Если это еще не сделано, *зарегистрируйтесь как пользователь системы ИПЖ*, заполнив [анкету](https://bit.ly/nowlooping)* и указав AAPS в качестве самостоятельно собранного ПО*

(Objectives-objective-9-enabling-additional-oref1-features-for-daytime-use-such-as-super-micro-bolus-smb)=
## Цель 9: Активация таких дополнительных функций для дневного времени как супер микро болюс SMB

- Следует прочитать [раздел СМБ в этой документации](Open-APS-features-super-micro-bolus-smb) и [главу oref1 в документации по openAPSdocs](https://openaps.readthedocs.io/en/latest/docs/Customize-Iterate/oref1.html) чтобы понять, как работает СМБ, и какая идея стоит за отключением базала при использовании этого алгоритма.
- Затем следует [поднять maxIOB](Open-APS-features-maximum-total-iob-openaps-cant-go-over-openaps-max-iob), чтобы заставить СМБ работать должным образом. maxIOB теперь учитывает весь активный инсулин IOB, а не только дополнительный базал. То есть, если подан болюс 8 ед. на еду, а maxIOB равен 7 ед., то СМБ не будет подан до тех пор, пока активный инсулин IOB не упадет ниже 7 ед. Хорошим стартом является расчет maxIOB = средний подаваемый на еду болюс + 3 максимальных ежедневных базала (макс. ежедневный базал = максимальное значение базальной скорости в течении дня) - см. [Цель 7](Objectives-objective-7-tuning-the-closed-loop-raising-max-iob-above-0-and-gradually-lowering-bg-targets)
- При переходе с алгоритма AMA на СМБ значение усвоения углеводов по умолчанию (min_5m_carbimpact) изменится с 3 до 8. Если вы переходите с AMA на СМБ - вам нужно изменить это значение самостоятельно.

(Objectives-objective-10-automation)=
## Цель 10: Автоматизация

- Вы должны начать цель 10 для использования [Автоматизации](../Usage/Automation.md).
- Убедитесь, что вы завершили все предыдущие цели, включая [Цель 3: Подтвердите ваши знания](Objectives#objective-3-prove-your-knowledge).
- Повторное прохождение более ранних целей не приведет к сбросу более поздних, если они уже были успешно завершены. У вас сохранятся все завершенные цели!

(Цели-цель-11-DynamicISF)=
## Цель 11: Дополнительные функции, такие как Динамический ISF

- Вы должны начать цель 11 для работы в режиме [DynamicISF](../Usage/Open-APS-features.md)

(Objectives-go-back-in-objectives)=
## Возможность возврата к предыдущим целям

Если вы по какой-либо причине хотите вернуться к более ранним целям, можете сделать это, нажав на "очистить завершенное".

```{image} ../images/Objective_ClearFinished.png
:alt: Вернуться в цели
```

## Цели в Android APS до версии 3.0

Одна из целей была удалена после выхода Android APS 3.0.  Для пользователей Android APS версии 2.8.2.1 на старых телефонах (версия ОС Android ниже 9) будет использован прежний набор целей, который можно найти [тут](../Usage/Objectives_old.md).
